/* =========================
   CityGallery — Modern Profile Theme (Profile.css)
   ========================= */

/* ---------- Profile hero ---------- */
.profile-hero{
  border-bottom:1px solid var(--line);
  background:
    radial-gradient(1000px 500px at 10% -10%, rgba(99,102,241,.10) 0%, transparent 55%),
    radial-gradient(1000px 500px at 110% 10%, rgba(139,92,246,.10) 0%, transparent 45%),
    linear-gradient(180deg,#fff,rgba(255,255,255,.85));
  padding:32px 0;
}
.hero__row{ display:grid; grid-template-columns:auto 1fr auto; gap:24px; align-items:center; padding:0; }
.avatar.xl{
  width:96px; height:96px; border-radius:999px; background:var(--gradient-primary);
  border:3px solid #fff; box-shadow:0 8px 32px rgba(99,102,241,.3);
  display:flex; align-items:center; justify-content:center; color:#fff; font-weight:900; font-size:2rem;
}
.hero__meta h1{ margin:0 0 8px; font-size:2.5rem; font-weight:900; color:#1e293b; letter-spacing:-.025em; }
.hero__meta p{ font-size:1.1rem; margin:0 0 16px; }
.hero__stats{ display:flex; gap:16px; flex-wrap:wrap }
.stat-pill{
  padding:12px 20px; border-radius:999px; border:2px solid var(--line); background:#fff;
  font-size:1rem; color:#475569; font-weight:700; box-shadow:0 2px 8px rgba(0,0,0,.05);
  transition:.2s ease; position:relative; overflow:hidden;
}
.stat-pill:hover{ transform:translateY(-2px); box-shadow:0 4px 16px rgba(0,0,0,.1); }
.stat-pill::before{ content:''; position:absolute; inset:0; background:var(--gradient-primary); opacity:0; transition:.2s }
.stat-pill:hover::before{ opacity:.08 }

/* ---------- Sections ---------- */
.profile-main{ padding:32px 0 40px; display:grid; gap:40px }
.profile-section{ display:grid; gap:20px }
.section-head{ display:flex; align-items:flex-end; justify-content:space-between; gap:12px; border-color:transparent; border-radius:14px; padding:12px; }
.section-head h2{ margin:0; color:#fff !important; letter-spacing:-.02em; }
.section-head .count{ color:var(--muted); font-weight:700; font-size:1.05rem }

/* === Profile: 3-column grids for posts (layout only; no style override) === */
#gridWith, #gridNo{
  display:grid; grid-template-columns: repeat(3, minmax(0,1fr));
  gap:20px; list-style:none; padding:0; margin:0; align-items:start;
}
#gridWith > .post, #gridNo > .post{ height:100%; display:flex; flex-direction:column; }
#gridWith > .post .post__actions, #gridNo > .post .post__actions{ margin-top:auto; }
@media (max-width:1024px){ #gridWith, #gridNo{ grid-template-columns:repeat(2, minmax(0,1fr)); } }
@media (max-width:640px){  #gridWith, #gridNo{ grid-template-columns:1fr; } }

/* =========================================================
   GROUPS — single-row strips + polished cards
   ========================================================= */
#gridAdminGroups,
#gridMyGroups{
  display:grid;
  grid-auto-flow:column;
  grid-auto-columns:clamp(260px, 28vw, 340px);
  gap:16px;
  overflow-x:auto; overflow-y:visible;
  padding-bottom:8px; margin:0;
  scroll-snap-type:x mandatory;
  -webkit-overflow-scrolling:touch;
  scrollbar-gutter:stable both-edges;
}
#gridAdminGroups > li, #gridMyGroups  > li{
  grid-column:auto !important; scroll-snap-align:start; list-style:none;
}

/* Scrollbar */
#gridAdminGroups::-webkit-scrollbar, #gridMyGroups::-webkit-scrollbar{ height:8px }
#gridAdminGroups::-webkit-scrollbar-thumb, #gridMyGroups::-webkit-scrollbar-thumb{ background:#cbd5e1; border-radius:999px }
#gridAdminGroups::-webkit-scrollbar-track, #gridMyGroups::-webkit-scrollbar-track{ background:transparent }

/* Group card */
.group-card{
  position:relative;
  height:240px; background:#fff; border:1px solid var(--line); border-radius:20px;
  box-shadow:var(--shadow);
  padding:20px; display:grid; gap:16px;
  grid-template-rows:auto 1fr auto;
  transition:transform .25s ease, box-shadow .25s ease, border-color .25s ease;
}
.group-card:hover{ transform:translateY(-6px); box-shadow:0 25px 50px rgba(15,23,42,.15); border-color:#cbd5e1; }

.group-card__head{ display:grid; grid-template-columns:auto 1fr; gap:16px; align-items:center; position:relative; padding-bottom:6px }
.group-card__head::after{
  content:''; position:absolute; inset:auto 0 -8px 0; height:2px;
  background:linear-gradient(90deg, rgba(99,102,241,.35), rgba(139,92,246,.35));
  border-radius:999px;
}

/* Avatar + fallback (first letter) */
.group-card__avatar{
  width:72px; height:72px; border-radius:999px; overflow:hidden;
  background:#f8fafc; border:2px solid rgba(0,0,0,.06); box-shadow:0 4px 12px rgba(0,0,0,.08); position:relative;
  display:flex; align-items:center; justify-content:center;
}
.avatar-fallback{
  width:100%; height:100%; display:flex; align-items:center; justify-content:center;
  font-weight:900; font-size:28px; letter-spacing:.02em;
  background: var(--gradient-accent); color:#fff;
}
.group-card__avatar img{ width:100%; height:100%; object-fit:cover; display:block }

.group-card__name{
  margin:0; font-weight:900; font-size:1.15rem; line-height:1.2;
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis; color:#1e293b;
}
.group-card__desc{
  margin:0; color:#475569; font-size:1rem; line-height:1.5;
  display:-webkit-box; -webkit-box-orient:vertical; -webkit-line-clamp:3; overflow:hidden;
}

.group-card__foot{ display:flex; align-items:center; justify-content:space-between; gap:12px }
.group-card__meta{ display:flex; gap:8px; flex-wrap:wrap; color:#64748b; font-size:.9rem; font-weight:600 }
.group-card__meta .pill{ padding:6px 12px; border:1px solid var(--line); border-radius:999px; background:#fff; font-weight:700; }
.group-card .btn{ padding:8px 14px; font-size:.9rem; border-radius:12px }
.group-card .btn:hover{ transform:translateY(-1px) }

/* Modals/Toast small helpers reused */
.modal{ position:fixed; inset:0; display:grid; place-items:center; background:rgba(15,23,42,.6); z-index:1500; backdrop-filter:blur(8px) }
.modal.hidden{ display:none }
.modal__card{
  width:min(720px,92vw); background:#fff; border:1px solid var(--line);
  border-radius:24px; box-shadow:0 25px 50px rgba(0,0,0,.25);
  display:grid; grid-template-rows:auto 1fr;
}
.modal__header{ display:flex; justify-content:space-between; align-items:center; padding:20px 24px; border-bottom:1px solid var(--line) }
.modal__body{ padding:24px; display:grid; gap:20px; max-height:72vh; overflow:auto }
.icon-btn{ background:transparent; border:0; font-size:20px; line-height:1; cursor:pointer; width:44px; height:44px; border-radius:12px; display:grid; place-items:center; transition:.2s ease }
.icon-btn:hover{ background:#f8fafc; transform:translateY(-1px) }

.fieldset{ border:2px dashed #e2e8f0; border-radius:16px; padding:20px }
.fieldset>legend{ padding:0 12px; color:#475569; font-weight:700; font-size:1rem }
.img-preview{ border:2px dashed #cbd5e1; border-radius:16px; padding:16px; display:grid; gap:12px }
.img-preview img{ width:100%; height:auto; display:block; border-radius:12px }

.toast{ position:fixed; left:50%; bottom:32px; transform:translateX(-50%); background:#1e293b; color:#fff; padding:16px 24px; border-radius:16px; box-shadow:0 12px 32px rgba(0,0,0,.25); z-index:2000; max-width:90vw; text-align:center; font-weight:600; font-size:1rem; }
.toast.hidden{ display:none } .toast.ok{ background:var(--success) } .toast.error{ background:var(--danger) }

/* Responsive tweaks */
@media (max-width:768px){
  .hero__row{ grid-template-columns:1fr; gap:16px; text-align:center }
  .avatar.xl{ width:80px; height:80px; font-size:1.5rem }
  .hero__meta h1{ font-size:2rem }
  .hero__stats{ justify-content:center }
  .section-head{ flex-direction:column; align-items:flex-start; gap:12px }
  .section-head h2{ font-size:1.5rem }
  .group-card{ height:220px; padding:16px }
  .group-card__desc{ -webkit-line-clamp:2 }
}

/* =========================
   GROUP OWNER CARDS — clean footer layout
   ========================= */

/* תחתית מסודרת: מטא משמאל/ימין + כפתורים בודדים בשורה */
.group-card__foot{
  display:grid;
  grid-template-columns: 1fr auto;
  align-items:center;
  gap:12px;
}

/* מטא קומפקטי יותר */
.group-card__meta{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  align-items:center;
}
.group-card__meta .pill{
  padding:6px 10px;
  min-height:20px;
  width:120px;
  border-radius:999px;
  border:1px solid var(--line);
  background:#fff;
  font-weight:700;
}

/* כפתורי ניהול נקיים ואחידים (לא צפים/לא מתנגשים) */
.group-card__actions{
  display:flex;
  gap:8px;
  flex-wrap:nowrap;
  align-items:center;
}
.group-card__actions .btn{
  height:36px;
  min-width:120px;              /* אותו רוחב לשני הכפתורים */
  padding:0 14px;
  border-radius:12px;
  border:1px solid var(--line);
  background:#fff;
  color:#0f172a;
  font-weight:700;
  box-shadow:0 1px 0 rgba(15,23,42,.03);
  transition:transform .15s ease, box-shadow .15s ease, background .15s ease;
}
.group-card__actions .btn:hover{
  background:#f8fafc;
  transform:translateY(-1px);
  box-shadow:0 6px 14px rgba(15,23,42,.08);
}

/* כפתור Delete — עדין ומדויק */
.group-card__actions .btn-danger{
  border-color:#fecaca;
  color:#b91c1c;
  background:#fff;
}
.group-card__actions .btn-danger:hover{
  background:#fff0f0;
  box-shadow:0 6px 14px rgba(185,28,28,.12);
}

/* קו דק ועדין מתחת לכותרת, עם מרווח טוב */
.group-card__head{
  padding-bottom:8px;
}
.group-card__head::after{
  content:'';
  position:absolute;
  left:0; right:0; bottom:-8px; height:2px;
  background:linear-gradient(90deg, rgba(99,102,241,.22), rgba(139,92,246,.22));
  border-radius:999px;
}

/* אווטאר – גודל/מרכוז עקבי */
.group-card__avatar{
  width:72px; height:72px;
  display:flex; align-items:center; justify-content:center;
  border-radius:999px;
  overflow:hidden;
  background:#f8fafc;
  border:2px solid rgba(0,0,0,.06);
  box-shadow:0 4px 12px rgba(0,0,0,.08);
}
.avatar-fallback{
  width:100%; height:100%;
  display:flex; align-items:center; justify-content:center;
  font-weight:900; font-size:28px; letter-spacing:.02em;
  background: var(--gradient-accent);
  color:#fff;
}

/* התאמות RTL קלות לשמות בעברית */
.group-card__name{
  text-align:start;
  direction:auto;       /* יישר נכון בעברית/אנגלית */
  margin-inline-end:4px;
}
